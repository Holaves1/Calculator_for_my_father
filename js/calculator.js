$(function(){const t=$(".calc-btn");let s=$("#result");$(".time");let n=[],x=[],u=0,o=0,r=[],c="",i=[],p="";const h=$("#CE"),R=$("#Mod"),z=$("#sqrt"),A=$("#procent"),a=$("#MRC"),m=$("#Mmin"),b=$("#Mmax"),d=$("#del"),f=$("#X"),g=$("#dot"),j=$("#rez"),M=$("#plus"),v=$("#min");function k(){return s.text(""),x.push(n.join("")),x.push("0"),0!=o?x.splice(1,1):o++,x.forEach(function(t,e){return i.push(Number(t)),i}),r.forEach(function(t,e){var l=e+1;return"+"==t?(0==u?RezAll=i[e]+i[l]:RezAll+=i[l],u++,RezAll):"-"==t?(0==u?RezAll=i[e]-i[l]:RezAll-=i[l],u++,RezAll):"*"==t?(0==u?RezAll=i[e]*i[l]:RezAll*=i[l],u++,RezAll):"/"==t?(i.splice(-1,1,1),0==u?RezAll=i[e]/i[l]:RezAll/=i[l],u++,RezAll):"sqrt"==t?(i.splice(-1,1,1),u,RezAll=Math.sqrt(i[e]),u++,RezAll):"%"==t?(i.splice(-1,1,1),RezAll=0==u?i[e]/i[l]*100:RezAll/i[l]*100,u++,RezAll):"*-1"==t?(i.splice(-1,1,1),0==u?RezAll=-1*i[e]:RezAll*=-1,u++,RezAll):void 0}),p=RezAll,s.text(""),x=[],n=[],r=[],i=[],u=0,RezAll=0,r,x,n,i,RezAll,x.push(String(p)),p,o}t.on("click",function(t){t.preventDefault();var e,t=n.length;const l=$(this);l.hasClass("number")?l.css({"background-color":"#6f9b9e"}):l.css({"background-color":"#588f71"}),setTimeout(()=>l.hasClass("number")?l.css({"background-color":"#82B5B8"}):l.css({"background-color":"#69BF91"}),700),t<11?100!=u&&l.hasClass("number")&&l.text()!=j.text()&&(Number(l.text()),l.text()==g.text()?(e=s.text()+".",s.text(e),n.push(".")):(e=s.text()+l.text(),s.text(e),n.push(l.text()))):11<=t&&s.text("ERROR"),l.text()==b.text()&&(c=n.join(""),c),l.text()==m.text()&&(c="",c),l.text()==a.text()&&(t=s.text()+c,s.text(t),n.push(c),console.log(c),n),l.text()==M.text()&&(s.text(""),r.push("+"),x.push(n.join("")),n=[],r),l.text()==v.text()&&(s.text(""),r.push("-"),x.push(n.join("")),n=[],r),l.text()==f.text()&&(s.text(""),r.push("*"),x.push(n.join("")),n=[],r),l.text()==d.text()&&(s.text(""),r.push("/"),x.push(n.join("")),n=[],r),l.text()==A.text()&&(s.text(""),r.push("%"),x.push(n.join("")),n=[],r),l.text()==z.text()&&(s.text(""),r.push("sqrt"),x.push(n.join("")),n=[],r),l.text()==R.text()&&(s.text(""),r.push("*-1"),x.push(n.join("")),n=[],r),l.text()==h.text()&&(s.text(""),x=[],n=[],r=[],i=[],RezAll=0,p="",o=0,u=0,r,x,n,i,RezAll),l.text()==j.text()&&(k(),s.text(p))});setInterval(function(){var t=new Date;document.getElementById("time").innerHTML=t.getHours()+":"+String(t.getMinutes()).padStart(2,"0")},1e3)});
